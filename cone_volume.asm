# Вычислить объем конуса; (3 знака после запятой)

.data
    prompt_r: .asciiz "r = "
    prompt_h: .asciiz "h = "
    result_volume: .asciiz "V = "
    newline: .asciiz "\n"
    point: .asciiz "."

.text
.globl main
main:
    	# Ввод радиуса основания конуса r (целое число)
    li $v0, 4
    la $a0, prompt_r
    syscall
    li $v0, 5
    syscall
    move $t0, $v0      	# Радиус основания r в $t0

    	# Ввод высоты конуса h (целое число)
    li $v0, 4
    la $a0, prompt_h
    syscall
    li $v0, 5
    syscall
    move $t1, $v0      	# Высота h в $t1

    	# Масштабируем для фиксированной точки (3 знака после запятой)
    li $t2, 3142       	# Приближенное значение π * 1000 = 3.142 * 1000
    li $t3, 3          	# Делитель для компенсации деления на 3 в формуле объема

    	# Вычисляем r^2
    mul $t4, $t0, $t0  # t4 = r^2

    	# Вычисляем r^2 * h
    mul $t5, $t4, $t1  # t5 = r^2 * h

    	# Вычисляем V = (π * r^2 * h) / 3 с фиксацией точки
    mul $t6, $t5, $t2  # t6 = π * r^2 * h * 1000
    div $t6, $t3       # t6 / 3 для компенсации деления на 3 в формуле
    mflo $t7           # Объем V с фиксированной точкой в $t7

    	# Разделение на целую и дробную части
    li $t8, 1000
    div $t7, $t8       	# Делим $t7 на 1000, чтобы выделить целую и дробную части
    mflo $t9           	# Целая часть объема в $t9
    mfhi $s0           	# Дробная часть объема (три знака после запятой) в $s0
    
        # Извлечение первой цифры после запятой
    li $t8, 100
    div $s0, $t8       	# Делим $s0 на 100, чтобы оставить только первую цифру
    mflo $s0           	# Теперь в $s0 только первая цифра после запятой

   	# Выводим результат
    li $v0, 4
    la $a0, result_volume
    syscall

    	# Вывод целой части объема
    li $v0, 1          
    move $a0, $t9
    syscall

    	# Вывод точки
    li $v0, 4          
    la $a0, point
    syscall

    	# Вывод первой цифры после запятой
    li $v0, 1          
    move $a0, $s0
    syscall

    	# Переход на новую строку
    li $v0, 4
    la $a0, newline
    syscall

    	# Завершение программы
    li $v0, 10
    syscall


